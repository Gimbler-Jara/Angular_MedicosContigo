<section class="formulario-usuario">
    <h2>Registro de Usuario</h2>
    <form [formGroup]="formularioUsuario" (ngSubmit)="registrarUsuario()">

        <div class="input-group">
            <select formControlName="document_type">
                <option value="" disabled selected>Tipo de Documento</option>
                @for (tipo of tiposDocumento; track $index) {
                <option [value]="tipo.value">{{ tipo.label }}</option>
                }
            </select>
            <input type="text" placeholder="Número de Documento" formControlName="dni" />
        </div>

        <div class="input-group">
            <input type="text" placeholder="Apellido Paterno" formControlName="last_name" />
            <input type="text" placeholder="Apellido Materno" formControlName="middle_name" />
        </div>

        <div class="input-group">
            <input type="text" placeholder="Nombres" formControlName="first_name" />
            <input type="date" formControlName="birth_date" />
        </div>

        <div class="input-group">
            <select formControlName="gender">
                <option value="" disabled selected>Seleccione género</option>
                <option value="M">Masculino</option>
                <option value="F">Femenino</option>
            </select>
            <input type="text" placeholder="Teléfono" formControlName="telefono" />
        </div>

        <div class="input-group">
            <input type="email" placeholder="Correo electrónico" formControlName="email" />
        </div>

        <div class="input-group-password">
            <div class="form-group">
                <input [type]="showPassword ? 'text' : 'password'" placeholder="Password"
                    formControlName="password_hash" />
                @if (!showPassword) {
                <i class="fa-solid fa-eye-slash" (click)="togglePassword()"></i>
                } @else {
                <i class="fa-solid fa-eye" (click)="togglePassword()"></i>
                }
            </div>

            <div class="form-group">
                <input [type]="showConfirm ? 'text' : 'password'" placeholder="Repetir contraseña"
                    formControlName="confirmPassword"
                    [ngClass]="{'input-error': formularioUsuario.errors?.['passwordsNoMatch']}" />
                @if (!showConfirm) {
                <i class="fa-solid fa-eye-slash" (click)="toggleConfirm()"></i>
                } @else {
                <i class="fa-solid fa-eye" (click)="toggleConfirm()"></i>
                }
            </div>
        </div>

        <button type="submit" [disabled]="formularioUsuario.invalid">Registrar</button>
    </form>

    <span class="login-link">
        ¿Ya tienes cuenta? <a [routerLink]="['/login']">Ingresar</a>
    </span>
</section>